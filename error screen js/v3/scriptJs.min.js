"use strict";function sendDataToServer(t){var e=new XMLHttpRequest;e.open("POST","saveJson.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("jsonData="+JSON.stringify(t,null,"\t")),alert("Food List was saved!")}function removeFridgeFromList(t){objArray.splice(t,1),displayJSONData(objArray)}function displayJSONData(t){for(var e='<section class="fridge">',n=0;n<t.length;n++)e+="<p>",e+='<span class="amountFridge">'+t[n].getAmount()+"</span>",e+='<span class="titleFridge">'+t[n].getTitle()+"</span>",e+='<time datetime"2018-08-23">'+t[n].getDate()+"</time>",e+='<button type="button" class="s-list" onclick="goModal()"><i class="fa fa-list-ul"></i></button>',e+='<button type="button" class="no" onclick="removeFridgeFromList('+n+')"><i class="fa fa-close"></i></button>',e+="</p>";e+="</section>",document.getElementById("dataArea").innerHTML=e,document.getElementById("form").reset(),document.getElementById("formEt").reset(),document.getElementById("formTo").reset()}function goModal(){document.getElementById("modal").style.display="block"}function initialize(){document.getElementById("add").addEventListener("click",function(){objArray[objArray.length]=new fridgeObj(document.getElementById("amount").value,document.getElementById("title").value,document.getElementById("date").value),displayJSONData(objArray),sendDataToServer(objArray)});var t=new XMLHttpRequest;t.onload=function(){if(200===t.status){for(var e=JSON.parse(t.responseText),n=0;n<e.fridge.length;n++)objArray[n]=new fridgeObj(e.fridge[n].amount,e.fridge[n].title,e.fridge[n].date);displayJSONData(objArray)}},t.open("GET","webApp.json",!0),t.send(null)}function fridgeObj(t,e,n){this.amount=t,this.title=e,this.date=n,this.getAmount=function(){return this.amount},this.getTitle=function(){return this.title},this.getDate=function(){return this.date}}var objArray=new Array;window.addEventListener("load",initialize);